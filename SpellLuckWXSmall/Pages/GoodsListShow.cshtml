@page
@model GoodsListShowModel
@{
    ViewData["Title"] = "商品展示";
    ViewData["Index"] = 3;

    int pageIndex = Model.PageIndex;
}
<div class="jumbotron">
    <div class="container">
        <h1>@ViewData["Title"]</h1>
    </div>
</div>
<div class="container marketing">
    <div class="row">
        @if (Model.GoodsModelList != null && Model.GoodsModelList.Count > 0)
        {
            @foreach (var item in Model.GoodsModelList)
            {
                <div class="col-lg-4">
                    <figure style="width:350px;height:200px;overflow:hidden;">
                        <img class="img-responsive" src="/file/FileDownload?fileUrl=@item.GoodsListImage.FileUrlData[1]" />
                    </figure>
                    <h2>@item.GoodsTitle</h2>
                    <p>@item.GoodsDetail</p>
                    <p>原价：@item.GoodsOldPrice ￥ &nbsp;  团价：@item.GoodsPrice ￥ &nbsp; 购买方式：@(item.GoodsPayType == 0 ? "2人团购" : item.GoodsPayType == 1 ? "3-6人团购" : "一分夺宝")</p>
                    <p><a class="btn btn-danger" asp-page-handler="delGoods" asp-route-goodsID="@item.GoodsID.ToString()">删除</a></p>
                </div>
            }
        }
    </div>
    <div class="row">
        <ul class="pagination pagination-lg">

            @if (Model.PageIndex != 0)
            {
                <li><a asp-page-handler="goPage" asp-route-pageIndex="@(Model.PageIndex - 1)">&laquo;</a></li>
            }
            @for (int i = 1; i < 10 && i < Model.PageCount + 1; i++)
            {
                if (Model.PageIndex + i <= Model.PageCount)
                {
                    <li><a asp-page-handler="goPage" asp-route-pageIndex="@(Model.PageIndex+i-1)">@(Model.PageIndex + i)</a></li>
                }
            }
            @if (Model.PageIndex + 1 < Model.PageCount)
            {
                <li><a asp-page-handler="goPage" asp-route-pageIndex="@(Model.PageIndex+1)">&raquo;</a></li>
            }
        </ul>
    </div>
</div>
